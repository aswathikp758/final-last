{"ast":null,"code":"import _regeneratorRuntime from\"D:/20-07-23-zip/cart/cart/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/20-07-23-zip/cart/cart/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/20-07-23-zip/cart/cart/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/20-07-23-zip/cart/cart/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/20-07-23-zip/cart/cart/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{BsCloudUpload}from'react-icons/bs';import{ImagetoBase64}from'../utility/ImagetoBase64';import{toast}from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Newproduct=function Newproduct(){var _useState=useState({name:\"\",category:\"\",image:\"\",price:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var handleOnChange=function handleOnChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(function(preve){return _objectSpread(_objectSpread({},preve),{},_defineProperty({},name,value));});};var uploadImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return ImagetoBase64(e.target.files[0]);case 2:data=_context.sent;// console.log(data)\nsetData(function(preve){return _objectSpread(_objectSpread({},preve),{},{image:data});});case 4:case\"end\":return _context.stop();}},_callee);}));return function uploadImage(_x){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var name,image,category,price,fetchData,fetchRes;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(data);name=data.name,image=data.image,category=data.category,price=data.price;if(!(name&&image&&category&&price)){_context2.next=15;break;}_context2.next=6;return fetch(\"\".concat(process.env.REACT_APP_SERVER_DOMIN,\"/uploadProduct\"),{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)});case 6:fetchData=_context2.sent;_context2.next=9;return fetchData.json();case 9:fetchRes=_context2.sent;console.log(fetchRes);toast(fetchRes.message);setData(function(){return{name:\"\",category:\"\",image:\"\",price:\"\",description:\"\"};});_context2.next=16;break;case 15:toast(\"Enter required Fields\");case 16:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/ (//-------------------------------------\n_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto mt-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"m-auto w-full max-w-md shadow flex flex-col p-3 bg-white\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:data.name,className:\"bg-slate-200 p-1\",onChange:handleOnChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"bg-slate-200 p-1 my-1\",name:\"category\",value:data.category,id:\"category\",onChange:handleOnChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Select category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Fruits\",children:\"Fruits\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Vegetable\",children:\"Vegetable\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Icecream\",children:\"Icecream\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dosa\",children:\"Dosa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pizza\",children:\"Pizza\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"image\",children:[\"Image\",/*#__PURE__*/_jsxs(\"div\",{className:\"h-40 w-full bg-slate-200 my-3 rounded flex items-center justify-center\",children:[data.image?/*#__PURE__*/_jsx(\"img\",{src:data.image,className:\"h-full\",alt:\"\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-5xl\",children:/*#__PURE__*/_jsx(BsCloudUpload,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",id:\"image\",onChange:uploadImage,className:\"hidden\"})]})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",className:\"my-1\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bg-slate-200 p-1\",name:\"price\",value:data.price,onChange:handleOnChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:3,className:\"bg-slate-200 p-1 my-1 resize-none\",name:\"description\",value:data.description,onChange:handleOnChange}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 hover:bg-red-600 text-white text-lg  my-2 font-medium drop-shadow\",children:\"Save\"})]})})})}));};export default Newproduct;","map":{"version":3,"names":["React","useState","BsCloudUpload","ImagetoBase64","toast","jsx","_jsx","jsxs","_jsxs","Newproduct","_useState","name","category","image","price","description","_useState2","_slicedToArray","data","setData","handleOnChange","e","_e$target","target","value","preve","_objectSpread","_defineProperty","uploadImage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","files","sent","stop","_x","apply","arguments","handleSubmit","_ref2","_callee2","fetchData","fetchRes","_callee2$","_context2","preventDefault","console","log","fetch","concat","process","env","REACT_APP_SERVER_DOMIN","method","headers","body","JSON","stringify","json","message","_x2","className","children","onSubmit","htmlFor","type","onChange","id","src","alt","accept","rows"],"sources":["D:/20-07-23-zip/cart/cart/frontend/src/page/Newproduct.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { BsCloudUpload } from 'react-icons/bs'\r\nimport { ImagetoBase64 } from '../utility/ImagetoBase64'\r\nimport { toast } from 'react-hot-toast'\r\n\r\n\r\n\r\nconst Newproduct = () => {\r\n\r\n  const [data,setData]=useState({\r\n    name:\"\",\r\n    category:\"\",\r\n    image:\"\",\r\n    price:\"\",\r\n    description:\"\"\r\n  })\r\n\r\n  const handleOnChange=(e)=>{\r\n    const {name,value}=e.target\r\n\r\n    setData((preve)=>{\r\n      return{\r\n        ...preve,\r\n        [name]:value\r\n      }\r\n\r\n    })\r\n\r\n  }\r\n\r\nconst uploadImage=async(e)=>{\r\n\r\n   const data = await ImagetoBase64(e.target.files[0])\r\n      // console.log(data)\r\n\r\n      setData((preve)=>{\r\n        return{\r\n          ...preve,\r\n          image:data\r\n\r\n          \r\n        }\r\n      })\r\n\r\n}\r\n\r\nconst handleSubmit=async(e)=>{\r\n  e.preventDefault()\r\n  console.log(data)\r\n\r\n  const {name,image,category,price}=data\r\n  if(name&& image && category && price )\r\n  {\r\n\r\n    const fetchData=await fetch(`${process.env.REACT_APP_SERVER_DOMIN}/uploadProduct`,{\r\n    method:\"POST\",\r\n    headers:{\r\n      \"content-type\":\"application/json\"\r\n    },\r\n    body:JSON.stringify(data)\r\n  })\r\n  const fetchRes=await fetchData.json()\r\n  console.log(fetchRes)\r\n  toast(fetchRes.message)\r\n\r\n  setData(()=>{\r\n    return{\r\n      name:\"\",\r\n      category:\"\",\r\n      image:\"\",\r\n      price:\"\",\r\n      description:\"\"\r\n    }\r\n  })\r\n\r\n}\r\nelse{\r\n  toast(\"Enter required Fields\")\r\n}\r\n\r\n  }\r\n  \r\n\r\n  \r\n\r\n  return (\r\n    \r\n//-------------------------------------\r\n\r\n <div className=\"flex\">\r\n           \r\n            <div className=\"container mx-auto mt-12\">\r\n               \r\n      <div className='p-4'>\r\n      <form className='m-auto w-full max-w-md shadow flex flex-col p-3 bg-white' onSubmit={handleSubmit}>\r\n        <label htmlFor='name'></label>\r\n        <input type={\"text\"} name=\"name\" value={data.name} className='bg-slate-200 p-1'onChange={handleOnChange}/>\r\n        <label htmlFor='category'>Category</label>\r\n        <select className='bg-slate-200 p-1 my-1' name= \"category\" value={data.category} id='category' onChange={handleOnChange}>\r\n          <option value={\"other\"}>Select category</option>\r\n          <option value={\"Fruits\"}>Fruits</option>\r\n          <option value={\"Vegetable\"}>Vegetable</option>\r\n          <option value={\"Icecream\"}>Icecream</option>\r\n          <option value={\"Dosa\"}>Dosa</option>\r\n          <option value={\"Pizza\"}>Pizza</option>\r\n        </select>\r\n        <label htmlFor='image'>Image\r\n\r\n        <div  className='h-40 w-full bg-slate-200 my-3 rounded flex items-center justify-center'>\r\n          {/* <span className='text-5xl'><BsCloudUpload/></span>\r\n          <img  alt ='' src={data.image} className=\"h-full\"/>    */}\r\n          \r\n          {\r\n              data.image ? <img src={data.image} className=\"h-full\" alt='' /> :<span className='text-5xl'><BsCloudUpload/></span> \r\n            }\r\n          \r\n          \r\n          <input type={\"file\" } accept=\"image/*\" id=\"image\" onChange={uploadImage} className=\"hidden\"/>\r\n        </div>\r\n        </label>\r\n        <label htmlFor='price' className='my-1'>Price</label>\r\n        <input type={\"text\"} className='bg-slate-200 p-1' name=\"price\" value={data.price} onChange={handleOnChange}/>\r\n \r\n      <label htmlFor='description'>Description</label>\r\n      <textarea rows={3} className='bg-slate-200 p-1 my-1 resize-none' name=\"description\" value={data.description} onChange={handleOnChange}></textarea>\r\n\r\n      <button className='bg-red-500 hover:bg-red-600 text-white text-lg  my-2 font-medium drop-shadow' >Save</button>\r\n      </form>\r\n    </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default Newproduct"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}